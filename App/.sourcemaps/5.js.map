{"version":3,"sources":["../../src/pages/application/application.module.ts","../../node_modules/ionic2-autosize/dist/directives/autosize.directive.js","../../src/util/AutosizeModule.ts","../../node_modules/ionic2-autosize/dist/index.js","../../node_modules/ionic2-autosize/dist/ionic2-autosize.module.js","../../src/pages/application/application.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { AutosizeModule } from './../../util/AutosizeModule';\r\nimport { Autosize } from 'ionic2-autosize';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ApplicationPage } from './application';\r\n\r\n@NgModule({\r\n  declarations: [ApplicationPage],\r\n  imports: [\r\n    AutosizeModule,\r\n    IonicPageModule.forChild(ApplicationPage),\r\n  ],\r\n})\r\nexport class ApplicationPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/application/application.module.ts","import { ElementRef, HostListener, Directive, Inject } from '@angular/core';\nvar Autosize = (function () {\n    function Autosize(element) {\n        this.element = element;\n    }\n    Autosize.prototype.onInput = function (textArea) {\n        this.adjust();\n    };\n    Autosize.prototype.ngOnInit = function () {\n        var _this = this;\n        setTimeout(function () { return _this.adjust(); }, 0);\n    };\n    Autosize.prototype.adjust = function () {\n        var textArea = this.element.nativeElement.getElementsByTagName('textarea')[0];\n        textArea.style.overflow = 'hidden';\n        textArea.style.height = 'auto';\n        textArea.style.height = textArea.scrollHeight + \"px\";\n    };\n    return Autosize;\n}());\nexport { Autosize };\nAutosize.decorators = [\n    { type: Directive, args: [{\n                selector: 'ion-textarea[autosize]'\n            },] },\n];\n/** @nocollapse */\nAutosize.ctorParameters = function () { return [\n    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] },] },\n]; };\nAutosize.propDecorators = {\n    'onInput': [{ type: HostListener, args: ['input', ['$event.target'],] },],\n};\n//# sourceMappingURL=autosize.directive.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ionic2-autosize/dist/directives/autosize.directive.js\n// module id = 750\n// module chunks = 2 4 5","import { Autosize } from 'ionic2-autosize';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n    declarations: [Autosize],\r\n    imports: [],\r\n    exports: [Autosize]\r\n})\r\nexport class AutosizeModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/AutosizeModule.ts","export * from './ionic2-autosize.module';\nexport * from './directives/autosize.directive';\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ionic2-autosize/dist/index.js\n// module id = 755\n// module chunks = 2 4 5","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { Autosize } from \"./directives/autosize.directive\";\nvar AutosizeModule = (function () {\n    function AutosizeModule() {\n    }\n    return AutosizeModule;\n}());\nexport { AutosizeModule };\nAutosizeModule.decorators = [\n    { type: NgModule, args: [{\n                declarations: [\n                    Autosize\n                ],\n                providers: [],\n                exports: [\n                    Autosize\n                ],\n                imports: [\n                    BrowserModule\n                ],\n                schemas: [\n                    CUSTOM_ELEMENTS_SCHEMA\n                ]\n            },] },\n];\n/** @nocollapse */\nAutosizeModule.ctorParameters = function () { return []; };\n//# sourceMappingURL=ionic2-autosize.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ionic2-autosize/dist/ionic2-autosize.module.js\n// module id = 756\n// module chunks = 2 4 5","import { LoginService } from './../../services/login-service';\r\nimport { ProjectConstants } from './../../data/constants/ProjectConstants';\r\nimport { RefreshService } from './../../services/refresh-service';\r\nimport { StorageService } from './../../services/storage-service';\r\nimport { User } from './../../data/User';\r\nimport { HomePage } from './../home/home';\r\nimport { Application } from './../../data/Application';\r\nimport { Project } from './../../data/Project';\r\nimport { ProjectService } from './../../services/project-service';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';\r\nimport { Autosize } from 'ionic2-autosize';\r\nimport { trigger, style, animate, transition } from '@angular/animations';\r\n\r\n/**\r\n * Generated class for the ApplicationPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-application',\r\n  templateUrl: 'application.html',\r\n  animations: [\r\n    trigger(\r\n      'enterAnimation', [\r\n        transition(':enter', [\r\n          style({ transform: 'translateY(-10px)', opacity: 0 }),\r\n          animate('200ms', style({ transform: 'translateY(0)', opacity: 1 }))\r\n        ]),\r\n        transition(':leave', [\r\n          style({ transform: 'translateY(0)', opacity: 1 }),\r\n          animate('200ms', style({ transform: 'translateY(-10px)', opacity: 0 }))\r\n        ])\r\n      ]\r\n    )\r\n  ]\r\n})\r\nexport class ApplicationPage {\r\n\r\n  @ViewChild('applicationText') applicationText;\r\n\r\n  application: Application;\r\n  applicationId: string;\r\n  projectId: string;\r\n  user: User;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private projectService: ProjectService,\r\n    private loginService: LoginService,\r\n    private storageService: StorageService,\r\n    private refreshService: RefreshService,\r\n    private loadingCtrl: LoadingController,\r\n    private toastCtrl: ToastController) {\r\n\r\n    this.projectId = this.navParams.get(\"projectId\");\r\n    this.applicationId = this.navParams.get(\"applicationId\");\r\n\r\n    if (!this.projectId && !this.applicationId) {\r\n      this.navCtrl.pop();\r\n    }\r\n\r\n    this.loginService.getLocalUser().subscribe((user: User) => {\r\n      this.user = user;\r\n      if (this.applicationId) {\r\n        this.loadApplication();\r\n      }\r\n    }, (error) => {\r\n      this.navCtrl.pop();\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n\r\n  }\r\n\r\n  loadApplication() {\r\n    this.projectService.getSingleApplication(this.applicationId).subscribe((result: Application) => {\r\n      this.application = result;\r\n    }, (error) => {\r\n      this.toastCtrl.create({\r\n        message: \"Error loading application\",\r\n        duration: 3000\r\n      }).present();\r\n      this.navCtrl.pop();\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  applyEvent() {\r\n    if (this.projectId && this.applicationText.value && this.applicationText.value.length > 0) {\r\n      let loader = this.loadingCtrl.create({\r\n        content: \"Sending application...\"\r\n      });\r\n      loader.present();\r\n      this.projectService.sendApplication(new Application(this.applicationText.value, this.projectId, this.user.id, 1, this.user)).then(() => {\r\n        loader.dismiss();\r\n        this.navCtrl.pop();\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        loader.dismiss();\r\n        this.toastCtrl.create({\r\n          message: \"Error sending your application. Please try again!\",\r\n          duration: 4000\r\n        }).present();\r\n      });\r\n    }\r\n  }\r\n\r\n  changeApplicationStatus(status: number) {\r\n    let loader = this.loadingCtrl.create({\r\n      content: \"Loading...\"\r\n    });\r\n    loader.present();\r\n    this.projectService.changeApplicationStatus(this.applicationId, this.projectId, this.application.author.id, status).then((result) => {\r\n      loader.dismiss();\r\n      this.navCtrl.pop();\r\n    }).catch((error) => {\r\n      console.log(error);\r\n      this.toastCtrl.create({\r\n        message: \"Error!\",\r\n        duration: 3000\r\n      }).present();\r\n      loader.dismiss();\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    if (!this.loginService.freshAccessCheck()) {\r\n      this.navCtrl.setRoot(\"LoginPage\");\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.navCtrl.pop();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/application/application.ts"],"sourceRoot":""}