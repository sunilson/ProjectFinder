{"version":3,"sources":["../../src/pages/feed/feed.module.ts","../../src/data/constants/ProjectConstants.ts","../../src/components/components.module.ts","../../src/components/project-card/project-card.ts","../../src/pipes/pipes.module.ts","../../src/pipes/date-pipe.ts","../../src/pages/feed/feed.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { PipesModule } from './../../pipes/pipes.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { FeedPage } from './feed';\r\nimport { ComponentsModule } from '../../components/components.module';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FeedPage\r\n  ],\r\n  imports: [\r\n    ComponentsModule,\r\n    PipesModule,\r\n    IonicPageModule.forChild(FeedPage),\r\n  ],\r\n})\r\nexport class FeedPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feed/feed.module.ts","export class ProjectConstants {\r\n    public static START_LOCATION: Number[] = [48.3683495, 14.5128533];\r\n    public static REFRESH = {\r\n        projects: \"projects\"\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/data/constants/ProjectConstants.ts","import { IonicModule } from 'ionic-angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { ProjectCardComponent } from './project-card/project-card';\r\n@NgModule({\r\n\tdeclarations: [ProjectCardComponent],\r\n\timports: [IonicModule],\r\n\texports: [ProjectCardComponent]\r\n})\r\nexport class ComponentsModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Project } from './../../data/Project';\r\nimport { Component, Input } from '@angular/core';\r\nimport { trigger, style, animate, transition, state, keyframes } from '@angular/animations';\r\nimport { } from 'ionic-angular';\r\n\r\n/**\r\n * Generated class for the ProjectCardComponent component.\r\n *\r\n * See https://angular.io/api/core/Component for more info on Angular\r\n * Components.\r\n */\r\n@Component({\r\n  selector: 'project-card',\r\n  templateUrl: 'project-card.html',\r\n  animations: [\r\n    trigger('cardAnimation', [\r\n      state('in', style({ transform: 'translateX(0)' })),\r\n      transition('void => *', [\r\n        animate(400, keyframes([\r\n          style({ opacity: 0, transform: 'translateX(-100%)', offset: 0 }),\r\n          style({ opacity: 1, transform: 'translateX(15px)', offset: 0.3 }),\r\n          style({ opacity: 1, transform: 'translateX(0)', offset: 1.0 })\r\n        ]))\r\n      ]),\r\n      transition('* => void', [\r\n        animate(400, keyframes([\r\n          style({ opacity: 1, transform: 'translateX(0)', offset: 0 }),\r\n          style({ opacity: 1, transform: 'translateX(-15px)', offset: 0.7 }),\r\n          style({ opacity: 0, transform: 'translateX(100%)', offset: 1.0 })\r\n        ]))\r\n      ])\r\n    ])\r\n  ]\r\n})\r\nexport class ProjectCardComponent {\r\n\r\n  @Input() project: Project;\r\n\r\n  text: string;\r\n\r\n  constructor() {\r\n    console.log('Hello ProjectCardComponent Component');\r\n    this.text = 'Hello World';\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/project-card/project-card.ts","import { IonicModule } from 'ionic-angular';\r\nimport { DatePipe } from './date-pipe';\r\nimport { NgModule } from '@angular/core';\r\n\r\n@NgModule({\r\n    declarations: [\r\n        DatePipe,\r\n    ],\r\n    imports: [\r\n        IonicModule\r\n    ],\r\n    exports: [\r\n        DatePipe\r\n    ]\r\n})\r\nexport class PipesModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\r\nimport moment from 'moment';\r\n\r\n@Pipe({ name: 'formatDate' })\r\nexport class DatePipe implements PipeTransform {\r\n\r\n    transform(value: string, args: string[]): any {\r\n        if (!value) return value;\r\n        let date = moment(value);\r\n        return date.utc().format(\"DD.MM.YYYY\");\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/date-pipe.ts","import { TagService } from './../../services/tag-service';\r\nimport { ProjectConstants } from './../../data/constants/ProjectConstants';\r\nimport { RefreshService } from './../../services/refresh-service';\r\nimport { StorageService } from './../../services/storage-service';\r\nimport { User } from './../../data/User';\r\nimport { ProjectService } from './../../services/project-service';\r\nimport { Application } from './../../data/Application';\r\nimport { LoginService } from './../../services/login-service';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ModalController, Content, LoadingController } from 'ionic-angular';\r\nimport { Project } from '../../data/Project';\r\nimport { trigger, transition, animate, style } from '@angular/animations';\r\n\r\n/**\r\n * Generated class for the FeedPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-feed',\r\n  templateUrl: 'feed.html',\r\n  animations: [\r\n    trigger(\r\n      'enterAnimation', [\r\n        transition(':enter', [\r\n          style({ transform: 'translateY(50px)', opacity: 0 }),\r\n          animate('200ms', style({ transform: 'translateY(0)', opacity: 1 }))\r\n        ])\r\n      ]\r\n    )\r\n  ],\r\n})\r\nexport class FeedPage {\r\n\r\n  user: User;\r\n  interestingProjects: Project[];\r\n  @ViewChild(Content) content: Content;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private modalCtrl: ModalController,\r\n    private loginService: LoginService,\r\n    private storageService: StorageService,\r\n    private projectService: ProjectService,\r\n    private tagService: TagService,\r\n    private refreshService: RefreshService,\r\n    private loadingController: LoadingController\r\n  ) {\r\n\r\n    this.loadEverything();\r\n\r\n    this.storageService.subscribeToUserChange().subscribe((user) => {\r\n      this.user = user;\r\n      this.content.resize();\r\n    });\r\n\r\n    this.refreshService.refreshObservable.subscribe((data: any) => {\r\n      if (data == ProjectConstants.REFRESH.projects) this.refresh();\r\n    });\r\n  }\r\n\r\n  getApplicationIcon(a: Application) {\r\n    if (a.status == 0) {\r\n      return \"help-circle\"\r\n    }\r\n    if (a.status == 1) {\r\n      return \"checkmark-circle\"\r\n    }\r\n    if (a.status == 2) {\r\n      return \"close-circle\"\r\n    }\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.loginService.freshAccessCheck().then((result) => {\r\n      if (!result) {\r\n        this.navCtrl.setRoot(\"LoginPage\");\r\n      }\r\n    });\r\n  }\r\n\r\n  openApplication(application: Application) {\r\n    this.modalCtrl.create(\"ApplicationPage\", { applicationId: application.id }).present();\r\n  }\r\n\r\n  loadEverything() {\r\n    let loader = this.loadingController.create({\r\n      content: \"Lade Daten...\"\r\n    });\r\n    loader.present();\r\n    this.loginService.getUser().subscribe((user) => {\r\n      if (loader) {\r\n        loader.dismiss();\r\n        loader = null;\r\n      }\r\n\r\n      if (user && user.id) {\r\n        //Only on network user\r\n        if (!user.local) {\r\n          //Check if intro was already shown. If not, start it\r\n          this.storageService.getLocalStorage(\"intro\" + user.id).then((value) => {\r\n            if (!value) {\r\n              this.modalCtrl.create(\"IntroPage\", {\r\n                userID: user.id\r\n              }).present();\r\n            }\r\n          });\r\n          if (user.tags.length == 0) {\r\n            this.tagService.askForMissingTags();\r\n          }\r\n        }\r\n\r\n        //Return if network call was faster\r\n        if (this.user && user.local) {\r\n          return;\r\n        }\r\n\r\n        this.user = user;\r\n        this.content.resize();\r\n      }\r\n    }, (error) => {\r\n      if (loader) {\r\n        loader.dismiss();\r\n        loader = null;\r\n      }\r\n    });\r\n\r\n    this.projectService.getInterestingProjects().then((projects: Project[]) => {\r\n      this.interestingProjects = projects;\r\n    }).catch((error) => {\r\n      console.log(error);\r\n    });\r\n  }\r\n\r\n  refresh() {\r\n    this.loadEverything();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feed/feed.ts"],"sourceRoot":""}